<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ä¸­3æˆ¦å¾Œå²ã‚¯ã‚¤ã‚ºï¼šãƒ’ã‚¹ãƒˆãƒªãƒ¼ã‚¯ã‚¨ã‚¹ãƒˆ</title>
  <style>
    /* ----------  Reset & Base Typography  ---------- */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Hiragino Sans", "Noto Sans JP", sans-serif;
      background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%);
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 2rem;
      min-height: 100vh;
    }

    /* ----------  Card Container  ---------- */
    #quiz-box {
      background: #ffffff;
      border-radius: 20px;
      padding: 2rem;
      width: 100%;
      max-width: 800px;
      box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
      animation: fadeIn 0.6s ease;
      text-align: center;
    }

    /* ----------  Text Elements  ---------- */
    h2 { font-size: 1.5rem; font-weight: 700; margin-bottom: 1.2rem; color: #333; }
    #score { font-size: 1rem; color: #555; margin-bottom: 1rem; }
    #result { font-weight: 700; margin-top: 1rem; font-size: 1.1rem; }
    #rank { margin-top: 1rem; font-size: 1.2rem; font-weight: 700; }

    /* ----------  Buttons  ---------- */
    button {
      display: block;
      width: 100%;
      margin: 0.4rem 0;
      padding: 0.8rem 1rem;
      font-size: 1rem;
      font-weight: 600;
      color: #fff;
      background: linear-gradient(135deg, #43cea2, #185a9d);
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    }
    button:active {
      transform: translateY(0);
      box-shadow: none;
    }
    #nextBtn {
      width: auto;
      padding: 0.7rem 2rem;
      background: #ff9800;
      margin-top: 1rem;
    }
    #nextBtn:hover { background: #fb8c00; }

    /* ----------  Explanation Box  ---------- */
    #explanations {
      margin-top: 1.5rem;
      background: #f7f9fc;
      border-left: 4px solid #43cea2;
      padding: 1rem;
      border-radius: 10px;
      text-align: left;
    }
    #explanations h3 { font-size: 1.1rem; margin-bottom: 0.5rem; }
    #explanations p { margin: 0.3rem 0; font-size: 0.9rem; line-height: 1.4; }

    /* ----------  Animations  ---------- */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to   { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <div id="quiz-box">
    <div id="score">ã‚¹ã‚³ã‚¢: 0</div>
    <h2 id="question">å•é¡ŒãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</h2>
    <div id="choices"></div>
    <div id="result"></div>
    <div id="rank"></div>
    <button id="nextBtn" onclick="nextQuestion()">â–¶ æ¬¡ã®å•é¡Œã¸</button>
  </div>

  <script>
    // ===== ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆï¼ˆ15å•ä¸­ãƒ©ãƒ³ãƒ€ãƒ 10å•ï¼‰ =====
    const fullQuiz = [
      { q: "é«˜åº¦çµŒæ¸ˆæˆé•·æœŸã«è¡Œã‚ã‚ŒãŸæ”¿ç­–ã¯ï¼Ÿ", c: ["è²¡é–¥è§£ä½“", "äº”ã‚«å¹´è¨ˆç”»", "æ‰€å¾—å€å¢—è¨ˆç”»", "ç·Šç¸®è²¡æ”¿"], a: 2, e: "1960å¹´ã«æ± ç”°å‹‡äººå†…é–£ãŒæ²ã’ãŸçµŒæ¸ˆæ”¿ç­–ã§ã€å›½æ°‘æ‰€å¾—ã‚’10å¹´ã§2å€ã«ã™ã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ã¾ã—ãŸã€‚" },
      { q: "å…¬å®³ç—…ã®ä¸€ã¤ã€ã‚¤ã‚¿ã‚¤ã‚¤ã‚¿ã‚¤ç—…ã€ã®åŸå› ã¯ï¼Ÿ", c: ["é‰›", "ãƒ’ç´ ", "æ°´éŠ€", "ã‚«ãƒ‰ãƒŸã‚¦ãƒ "], a: 3, e: "ã‚¤ã‚¿ã‚¤ã‚¤ã‚¿ã‚¤ç—…ã¯ã‚«ãƒ‰ãƒŸã‚¦ãƒ ã«ã‚ˆã‚‹ä¸­æ¯’ç—‡ã§ã€å¯Œå±±çœŒã®ç¥é€šå·æµåŸŸã§ç™ºç”Ÿã—ã¾ã—ãŸã€‚" },
      { q: "æ—¥æœ¬å›½æ†²æ³•ç¬¬9æ¡ãŒå®šã‚ã¦ã„ã‚‹ã®ã¯ï¼Ÿ", c: ["ç´ç¨ã®ç¾©å‹™", "æ•™è‚²ã®ç¾©å‹™", "æˆ¦äº‰ã®æ”¾æ£„", "å‹¤åŠ´ã®ç¾©å‹™"], a: 2, e: "æ†²æ³•ç¬¬9æ¡ã¯ã€æ—¥æœ¬ãŒæˆ¦äº‰ã¨æˆ¦åŠ›ã®ä¿æŒã‚’æ”¾æ£„ã™ã‚‹ã“ã¨ã‚’å®šã‚ã¦ã„ã¾ã™ã€‚" },
      { q: "ã‚µãƒ³ãƒ•ãƒ©ãƒ³ã‚·ã‚¹ã‚³å¹³å’Œæ¡ç´„ãŒçµã°ã‚ŒãŸå¹´ã¯ï¼Ÿ", c: ["1945å¹´", "1951å¹´", "1955å¹´", "1960å¹´"], a: 1, e: "1951å¹´ã®ç· çµã«ã‚ˆã‚Šã€æ—¥æœ¬ã¯æ­£å¼ã«ä¸»æ¨©ã‚’å›å¾©ã—ã¾ã—ãŸã€‚" },
      { q: "æ—¥ä¸­å…±åŒå£°æ˜ãŒç™ºè¡¨ã•ã‚ŒãŸã®ã¯ï¼Ÿ", c: ["1951å¹´", "1964å¹´", "1972å¹´", "1989å¹´"], a: 2, e: "1972å¹´ã«ç™ºè¡¨ã•ã‚Œã€æ—¥ä¸­ã®å›½äº¤ãŒæ­£å¸¸åŒ–ã—ã¾ã—ãŸã€‚" },
      { q: "æ—¥æœ¬å›½æ†²æ³•ãŒå…¬å¸ƒã•ã‚ŒãŸã®ã¯ã„ã¤ï¼Ÿ", c: ["1945å¹´11æœˆ3æ—¥", "1946å¹´5æœˆ3æ—¥", "1946å¹´11æœˆ3æ—¥", "1947å¹´5æœˆ3æ—¥"], a: 2, e: "å…¬å¸ƒã¯1946å¹´11æœˆ3æ—¥ã€æ–½è¡Œã¯1947å¹´5æœˆ3æ—¥ã§ã™ã€‚" },
      { q: "GHQã®æœ€é«˜å¸ä»¤å®˜ã¯èª°ï¼Ÿ", c: ["ãƒãƒ¼ã‚·ãƒ£ãƒ«", "ãƒãƒƒã‚«ãƒ¼ã‚µãƒ¼", "ã‚¢ã‚¤ã‚¼ãƒ³ãƒãƒ¯ãƒ¼", "ãƒ«ãƒ¼ã‚ºãƒ™ãƒ«ãƒˆ"], a: 1, e: "ãƒãƒƒã‚«ãƒ¼ã‚µãƒ¼ã¯æˆ¦å¾Œæ”¹é©ã‚’æŒ‡å°ã—ã¾ã—ãŸã€‚" },
      { q: "æ—¥æœ¬å›½æ†²æ³•ã®ä¸‰å¤§åŸå‰‡ã«å«ã¾ã‚Œãªã„ã‚‚ã®ã¯ï¼Ÿ", c: ["å›½æ°‘ä¸»æ¨©", "åŸºæœ¬çš„äººæ¨©ã®å°Šé‡", "å¹³å’Œä¸»ç¾©", "çµŒæ¸ˆã®è‡ªç”±åŒ–"], a: 3, e: "çµŒæ¸ˆã®è‡ªç”±åŒ–ã¯ä¸‰å¤§åŸå‰‡ã§ã¯ãªãçµŒæ¸ˆæ”¿ç­–ã®ä¸€ç’°ã§ã™ã€‚" },
      { q: "è¾²åœ°æ”¹é©ã«ã‚ˆã£ã¦å½±éŸ¿ã‚’å—ã‘ãŸã®ã¯ï¼Ÿ", c: ["å°ä½œäºº", "è²¡é–¥", "è»äºº", "è³‡æœ¬å®¶"], a: 0, e: "å°ä½œäººãŒåœŸåœ°ã‚’æ‰€æœ‰ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã€è‡ªä½œè¾²ãŒå¢—ãˆã¾ã—ãŸã€‚" },
      { q: "æ—¥æœ¬ãŒå›½éš›é€£åˆã«åŠ ç›Ÿã—ãŸå¹´ã¯ï¼Ÿ", c: ["1945å¹´", "1950å¹´", "1956å¹´", "1960å¹´"], a: 2, e: "1956å¹´ã«åŠ ç›Ÿã—å›½éš›ç¤¾ä¼šã«å¾©å¸°ã—ã¾ã—ãŸã€‚" },
      { q: "æ°´ä¿£ç—…ã®åŸå› ç‰©è³ªã¯ï¼Ÿ", c: ["é‰›", "ãƒ’ç´ ", "æ°´éŠ€", "ã‚«ãƒ‰ãƒŸã‚¦ãƒ "], a: 2, e: "æ°´ä¿£ç—…ã¯æœ‰æ©Ÿæ°´éŠ€ã«ã‚ˆã‚‹å…¬å®³ç—…ã§ã™ã€‚" },
      { q: "å¥³æ€§å‚æ”¿æ¨©ãŒåˆã‚ã¦èªã‚ã‚‰ã‚ŒãŸã®ã¯ï¼Ÿ", c: ["1946å¹´ç·é¸æŒ™", "1947å¹´å‚é™¢é¸æŒ™", "1952å¹´è¡†é™¢é¸æŒ™", "1955å¹´çµ±ä¸€åœ°æ–¹é¸"], a: 0, e: "1946å¹´ç·é¸æŒ™ã§å¥³æ€§ãŒåˆã‚ã¦æŠ•ç¥¨ãƒ»ç«‹å€™è£œã§ãã¾ã—ãŸã€‚" },
      { q: "æ±äº¬ã‚ªãƒªãƒ³ãƒ”ãƒƒã‚¯ãŒé–‹å‚¬ã•ã‚ŒãŸå¹´ã¯ï¼Ÿ", c: ["1958å¹´", "1960å¹´", "1964å¹´", "1968å¹´"], a: 2, e: "1964å¹´é–‹å‚¬ã€‚é«˜åº¦çµŒæ¸ˆæˆé•·ã‚’è±¡å¾´ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ã€‚" },
      { q: "æ—¥ç±³å®‰å…¨ä¿éšœæ¡ç´„ãŒæ”¹å®šã•ã‚ŒãŸå¹´ã¯ï¼Ÿ", c: ["1951å¹´", "1955å¹´", "1960å¹´", "1972å¹´"], a: 2, e: "1960å¹´ã«æ”¹å®šã•ã‚Œã€ç›¸äº’å”åŠ›ã®å†…å®¹ãŒå¼·åŒ–ã•ã‚Œã¾ã—ãŸã€‚" },
      { q: "1956å¹´ã€æ—¥æœ¬ãŒå›½éš›ç¤¾ä¼šã¸å¾©å¸°ã™ã‚‹ãã£ã‹ã‘ã¨ãªã£ãŸã®ã¯ï¼Ÿ", c: ["æ±äº¬æ¡ç´„", "å›½é€£åŠ ç›Ÿ", "æ—¥ä¸­å…±åŒå£°æ˜", "æ—¥ç±³åœ°ä½å”å®š"], a: 1, e: "1956å¹´ã®å›½é€£åŠ ç›Ÿã§æ—¥æœ¬ã¯ä¸»æ¨©å›½å®¶ã¨ã—ã¦æ‰¿èªã•ã‚Œã¾ã—ãŸã€‚" }
    ];

    // ===== çŠ¶æ…‹ç®¡ç†å¤‰æ•° =====
    let quiz = shuffle([...fullQuiz]).slice(0, 10);
    let remaining = [...quiz];
    let current = null;
    let score = 0;
    let wrong = [];

    // ===== ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ =====
    function shuffle(arr) {
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    function rankLabel(s, total) {
      const rate = s / total;
      if (rate === 1) return "ğŸ…æ­´å²åšå£«ï¼ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆï¼";
      if (rate >= 0.8) return "ğŸ¥‡æ­´å²ã‚¨ãƒªãƒ¼ãƒˆ";
      if (rate >= 0.6) return "ğŸ¥ˆæ­´å²ãƒãƒ‹ã‚¢";
      if (rate >= 0.4) return "ğŸ¥‰æ­´å²å¥½ãè¦‹ç¿’ã„";
      return "ğŸ“˜ ã“ã‚Œã‹ã‚‰ã«æœŸå¾…ï¼";
    }

    // ===== å‡ºé¡Œãƒ­ã‚¸ãƒƒã‚¯ =====
    function loadQuestion() {
      if (remaining.length === 0) {
        showResult();
        return;
      }
      current = remaining.pop();
      document.getElementById("question").textContent = `Q${10 - remaining.length}. ${current.q}`;
      const choicesDiv = document.getElementById("choices");
      choicesDiv.innerHTML = "";
      current.c.forEach((choice, idx) => {
        const btn = document.createElement("button");
        btn.textContent = choice;
        btn.onclick = () => check(idx);
        choicesDiv.appendChild(btn);
      });
      document.getElementById("result").textContent = "";
      document.getElementById("rank").textContent = "";
    }

    function check(selected) {
      const correct = current.a;
      const resDiv = document.getElementById("result");
      if (selected === correct) {
        resDiv.textContent = "âœ¨ æ­£è§£ï¼ +1ç‚¹";
        resDiv.style.color = "green";
        score++;
      } else {
        resDiv.textContent = `âŒ ä¸æ­£è§£... æ­£è§£ã¯ã€Œ${current.c[correct]}ã€ã§ã™ã€‚`;
        resDiv.style.color = "red";
        wrong.push({ q: current.q, correct: current.c[correct], exp: current.e });
      }
      document.getElementById("score").textContent = `ã‚¹ã‚³ã‚¢: ${score}`;
    }

    function nextQuestion() { loadQuestion(); }

    function showResult() {
      const rankText = rankLabel(score, 10);
      let expHTML = "";
      if (wrong.length) {
        expHTML += '<div id="explanations"><h3>â— é–“é•ãˆãŸå•é¡Œã®è§£èª¬ï¼š</h3>';
        wrong.forEach(w => {
          expHTML += `<p><strong>${w.q}</strong><br>æ­£è§£ï¼š${w.correct}<br>è§£èª¬ï¼š${w.exp}</p>`;
        });
        expHTML += '</div>';
      }
      document.getElementById("quiz-box").innerHTML = `
        <h2>ğŸ‰ ã‚¯ã‚¤ã‚ºçµ‚äº†ï¼ ğŸ‰</h2>
        <p>ã‚ãªãŸã®ã‚¹ã‚³ã‚¢ã¯ <strong>${score} / 10</strong> ã§ã™ã€‚</p>
        <p id="rank">${rankText}</p>
        ${expHTML}
        <button onclick="restart()">ğŸ” ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦</button>
      `;
    }

    function restart() {
      quiz = shuffle([...fullQuiz]).slice(0, 10);
      remaining = [...quiz];
      score = 0;
      wrong = [];
      document.getElementById("quiz-box").innerHTML = `
        <div id="score">ã‚¹ã‚³ã‚¢: 0</div>
        <h2 id="question">å•é¡ŒãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</h2>
        <div id="choices"></div>
        <div id="result"></div>
        <div id="rank"></div>
        <button id="nextBtn" onclick="nextQuestion()">â–¶ æ¬¡ã®å•é¡Œã¸</button>
      `;
      loadQuestion();
    }

    // åˆå›ãƒ­ãƒ¼ãƒ‰
    loadQuestion();
  </script>
</body>
</html>
